<!-- Need to use NVM 10.18.0-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title> Falcon Construction Database Page </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap 5.1.3 CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <!-- NEEDED FOR NAV BAR -->
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>

<body>
    <!--Navigation bar-->
    <div id="nav_bar"></div>
    <script>
        $(function () {
            $("#nav_bar").load("nav_bar.html");
        });
    </script>
    <!--End Navigation bar-->


    <body>
        <br>

        <div class="card">
            <div class="card-body">

               
              
                <form id='update-job-form' method='POST' action='/update-job-form'>
              
                  {{#each data}}
                     <h4>Update Job# {{this.job_id}}</h4>
                    <div class="col-md-5 mb-3">
                        <label for="fk_customer_id"> Customer ID:</label>
                        <input type="text" name="customer_id_update" value="{{this.fk_customer_id}}">
                        {{this.customer_name}}
                    </div>
                    <div class="col-md-5 mb-3">
                        <label for="fk_category_id"> Category ID:</label>
                        <input type="text" name="category_id_update" value="{{this.fk_category_id}}">
                        {{this.category_name}}
                    </div>
                    <div class="col-md-5 mb-3">
                        <label for="job_code"> Job Code:</label>
                        <input type="text" name="job_code_update" value="{{this.job_code}}">
                    </div>
                    <div class="col-md-10 mb-3">
                        <label for="job_start_date"> Job Start Date:</label>
                        <input type="datetime-local" placeholder="mm-dd-yyyy" 
                        name="job_start_date_update" 
                        value="{{this.job_start_date}}" min = "2015-01-01" max="2030-01-01"> Current: {{this.job_start_date}}
                    </div>
                    <div class="col-md-10 mb-3">
                        <label for="job_end_date"> Job End Date</label>
                        <input type="datetime-local" placeholder="mm-dd-yyyy" 
                        name="job_end_date_update" 
                        value="{{this.job_end_date}}" min = "2015-01-01" max="2030-01-01"> Current: {{this.job_end_date}}
                    </div>
                    <div class="col-md-10 mb-3">
                        <label for="job_description"> Job Description:</label>
                        <input type="text" name="job_description_update" value="{{this.job_description}}"><br>
                    </div>
                    <div class="col-md-10 mb-3">
                        <label for="job_status"> Job Status:</label>
                        <input type="text" name="job_status_update" value="{{this.job_status}}"><br>
                    </div>
                    <button value="{{this.job_id}}" name="job_id_update" id="job_id_update">Submit changes</button>

                    <button class="btn btn-dark btn-sm my-0" onclick="updateJob({{this.job_id}})">Update</button>
                        {{/each}}
                </form>
            
            </div>
        </div>
    </body>

</html>